/*
 * This Java source file was generated by the Gradle 'init' task.
 */
package com.cg;

import java.util.*;
import java.util.regex.Pattern;

public class UserRegistration {
	static Scanner sc = new Scanner(System.in);
	private String namePattern = "^[A-Z]{1}[A-Za-z]{2,}";
	private String emailPattern = "^[a-zA-Z0-9+_-]+([.][a-zA-Z0-9]+)*@([a-zA-Z0-9]+)([.][a-z]+)?[.][a-z]{2,}$";
	private String phoneNumberPattern = "^[0-9]{1,}[ ][1-9][0-9]{9}$";
	private String passwordPattern = "^(?=.*[A-Z])(?=.*[0-9])(?=^[^#?!@$%^&*-]*[#?!@$%^&*-][^#?!@$%^&*-]*$).{8,}$";

	public boolean firstNameValidator(String firstName) throws FirstNameValidationException {
		if (Pattern.matches(namePattern, firstName))
			return true;
		else
			throw new FirstNameValidationException("Invalid First Name, Please enter valid first name");
	}

	public boolean lastNameValidator(String lastName) throws LastNameValidationException {
		if (Pattern.matches(namePattern, lastName))
			return true;
		else
			throw new LastNameValidationException("Invalid Last Name, Please enter valid last name");
	}

	public boolean emailValidator(String email) throws EmailValidationException {
		if (Pattern.matches(emailPattern, email))
			return true;
		else
			throw new EmailValidationException("Invalid Email, Please enter valid email");
	}

	public boolean phoneNumberValidator(String phoneNumber) throws PhoneNumberValidationException {
		if (Pattern.matches(phoneNumberPattern, phoneNumber))
			return true;
		else
			throw new PhoneNumberValidationException("Invalid Phone Number, Please enter valid phone number");
	}

	public boolean passwordValidator(String password) throws PasswordValidationException {
		if (Pattern.matches(passwordPattern, password))
			return true;
		else
			throw new PasswordValidationException("Invalid Password, Please enter valid password");
	}

	public static void main(String[] args) {
		System.out.println("User Registration Program with validation");
		UserRegistration validator = new UserRegistration();
		String firstName;
		String lastName;
		String email;
		String phoneNumber;
		String password;

		boolean match = false;
		System.out.println("Enter the first name:");
		while (!match) {
			try {
				firstName = sc.nextLine();
				match = validator.firstNameValidator(firstName);
				System.out.println("First Name is added successfully\n");
			} catch (Exception e) {
				match = false;
				System.out.println(e.getMessage());
			}
		}

		match = false;
		System.out.println("Enter the last name:");
		while (!match) {
			try {
				lastName = sc.nextLine();
				match = validator.lastNameValidator(lastName);
				System.out.println("Last Name is added successfully\n");
			} catch (Exception e) {
				match = false;
				System.out.println(e.getMessage());
			}
		}

		match = false;
		System.out.println("Enter the email:");
		while (!match) {
			try {
				email = sc.nextLine();
				match = validator.emailValidator(email);
				System.out.println("Email is added successfully\n");
			} catch (Exception e) {
				match = false;
				System.out.println(e.getMessage());
			}
		}

		match = false;
		System.out.println("Enter the Phone Number:");
		while (!match) {
			try {
				phoneNumber = sc.nextLine();
				match = validator.phoneNumberValidator(phoneNumber);
				System.out.println("Phone Number is added successfully\n");
			} catch (Exception e) {
				match = false;
				System.out.println(e.getMessage());
			}
		}

		match = false;
		System.out.println("Enter the Password:");
		while (!match) {
			try {
				password = sc.nextLine();
				match = validator.passwordValidator(password);
				System.out.println("Password is added successfully\n");
			} catch (Exception e) {
				match = false;
				System.out.println(e.getMessage());
			}
		}
	}
}
